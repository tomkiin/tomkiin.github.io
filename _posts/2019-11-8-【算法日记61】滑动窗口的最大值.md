#### **题目描述**

> 给定一个数组和滑动窗口的大小，找出所有滑动窗口里数值的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，他们的最大值分别为{4,4,6,6,6,5}； 针对数组{2,3,4,2,6,2,5,1}的滑动窗口有以下6个： {[2,3,4],2,6,2,5,1}， {2,[3,4,2],6,2,5,1}， {2,3,[4,2,6],2,5,1}， {2,3,4,[2,6,2],5,1}， {2,3,4,2,[6,2,5],1}， {2,3,4,2,6,[2,5,1]}。

可以把长度size的滑块当成是一个长度为size的队列， 循环数组，将数组下标依次入队，当循环的下标与队头元素的差大于size时，说明队头已经不在滑动窗口中，此时出队。此外，由于要找到滑块中的最大值，当入队的下标对应的数值大于队尾的下标对应的元素值时，将队尾删除，然后继续判断，最后将其入队。

在入队的过程中，当遍历下标大于size-1时，表示滑块已经覆盖完毕，因为入队的操作使得队头的下标对应的数值是滑块中的最大值，因此只需要将队头的下标对应的值保存即可。

例如，数组{2,3,4,2,6,2,5,1}的操作如下



| 遍历数字 | 队列（括号里的是下标对应的数值） | 最大值 | 操作                                           |
| -------- | -------------------------------- | ------ | ---------------------------------------------- |
| 2        | 0（2）                           | null   | 3>2，将0出队，1入队                            |
| 3        | 1（3）                           | Null   | 4>3，将1出队，2入队                            |
| 4        | 2                                | 4      | 2<4，3入队                                     |
| 2        | 2，3                             | 4      | 6>2，将3出队，6>4，将2出队4入队                |
| 6        | 4                                | 6      | 2<6，将5入队                                   |
| 2        | 4，5                             | 6      | 5>2，将5出队，6入队                            |
| 5        | 4，6                             | 6      | 此时队头下标已经不在滑动窗口内，将4出队，7入队 |
| 1        | 6，7                             | 5      |                                                |



```java
import java.util.ArrayList;

public class Solution {
    public ArrayList<Integer> maxInWindows(int[] num, int size) {
        ArrayList<Integer> result = new ArrayList<>();
        if (num == null || num.length < size || size < 1) return result;
        ArrayList<Integer> deque = new ArrayList<>();
        for(int i=0;i<num.length;i++) {
            while (deque.size()!=0 && num[i] > num[deque.get(deque.size()-1)])
                deque.remove(deque.size()-1);
            deque.add(i);
            if (i-deque.get(0) >= size)   // 如果队列头不在滑块中
                deque.remove(0);
            if (i+1 >= size)   // 如果滑块覆盖完毕
                result.add(num[deque.get(0)]); 
        }
        return result;
    }
}
```

